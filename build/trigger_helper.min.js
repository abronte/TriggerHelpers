!function(){var Logger,Request,isTrigger,root,_base,_ref;root=null!=(_ref=(_base="undefined"!=typeof exports&&null!==exports?exports:window).forge)?_ref:_base.forge={},isTrigger=function(){return void 0!==root.forge},root.isTrigger=isTrigger,Logger=function(){function Logger(){void 0!==root.forge&&(isTrigger=!0,root.onerror=function(e,u,l){return log(e+" on line "+l,"error")})}var enabled,log,logLevel;return isTrigger=!1,logLevel=5,enabled=!0,log=function(msg,level){return enabled?isTrigger?root.forge.logging.log(msg,eval("forge.logging."+level.toUpperCase())):console.log("["+level.toUpperCase()+"] "+msg):void 0},Logger.prototype.enabled=function(set){return void 0!==set&&(enabled=set),enabled},Logger.prototype.level=function(level){return void 0!==level&&(logLevel=level),logLevel},Logger.prototype.critical=function(msg){return logLevel>=1?log(msg,"critical"):void 0},Logger.prototype.error=function(msg){return logLevel>=2?log(msg,"error"):void 0},Logger.prototype.info=function(msg){return logLevel>=3?log(msg,"info"):void 0},Logger.prototype.warning=function(msg){return logLevel>=4?log(msg,"warning"):void 0},Logger.prototype.debug=function(msg){return logLevel>=5?log(msg,"debug"):void 0},Logger}(),root.log=new Logger,Request=function(){function Request(){void 0!==root.forge&&(isTrigger=!0)}return isTrigger=!1,Request.prototype.get=function(url,callback){return isTrigger?root.forge.request.get(url,callback):$.ajax({type:"GET",url:url,dataType:"jsonp",processData:!1,success:callback})},Request.prototype.post=function(url,body,callback){return isTrigger?root.forge.request.ajax({type:"POST",url:url,data:body,success:callback}):$.ajax({type:"POST",url:url,data:body,dataType:"jsonp",processData:!1,success:callback})},Request.prototype.ajax=function(params){return isTrigger?root.forge.request.ajax(params):$.ajax(params)},Request}(),root.request=new Request}.call(this);